<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <input type="text" id="test">
</body>
<script type="text/javascript">
    var node = document.querySelector('#test');
    node.addEventListener('compositionstart', function(e){
        e.target.composing = true;
    })
    node.addEventListener('compositionend', function(e){
        e.target.composing = false;
        var event = document.createEvent('HTMLEvents');
        event.initEvent('input', true, true);
        e.target.dispatchEvent(event);
    })
    node.addEventListener('input', function(e){
        if(!e.target.composing){
            console.log(e, e.target.composing);
        }
    });
</script>
</html>